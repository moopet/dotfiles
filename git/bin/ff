#!/bin/bash

# ff: "Feature Finish".
# Finish the current feature branch and push the development changes.

if [ -n "$1" ]; then
  echo "$(basename "$0") works on the current branch and does not accept arguments."
  exit 1
fi

branch=$(git rev-parse --abbrev-ref HEAD)

if ! echo $branch | grep "^feature/" > /dev/null; then
  echo "Not a feature branch."
  exit 1
fi

git flow feature finish "${branch#feature/}" && git push origin develop
